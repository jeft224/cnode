<template>
  <div class="header">
    <div class="head-box" :class="{ 'is-fixed': fixed }">
      <header class="head-logo clearfix">
        <i class="head-logo-menu iconfont icon-fenlei1" v-if="icon"  @click="showMenuSlide"></i>
        <i class="head-logo-back iconfont icon-fanhui"  v-if="!icon" @click="goHistory"></i>
        <img src="https://o4j806krb.qnssl.com/public/images/cnodejs_light.svg" class="logo-img">
      </header>
    </div>
    <menu-slide :show="leftNavStatus" @hideMenuSlide="hideMenuSlide"></menu-slide>
  </div>

</template>

<script>
  import MenuSlide from './menuSlide'
  import {mapActions,mapState} from 'vuex'
  export default{
      data(){
          return {
          }
      },
      computed: mapState({
          leftNavStatus: state => state.com.leftNavStatus
      }),
      props:{
          fixed:Boolean,
          icon:Boolean
      },
      methods:{
        ...mapActions({setNavState:'setNavState'}),
        //返回上一页
        goHistory(){
          this.$router.go(-1)
        },
        /*显示左侧菜单栏*/
        showMenuSlide(){
          this.setNavState(true)
        },
        /*隐藏左侧菜单栏*/
        hideMenuSlide(){
            this.setNavState(false)
        }

      },
      components:{
        MenuSlide
      }

  }
</script>

<style lang="css" scoped>
  .is-fixed{
    position: fixed;
  }
  .head-box{
    width:100%;
    top:0;
    z-index:1;
  }
  .head-logo{
    height: 43px;
    line-height:43px;
    background: #444;
    text-align:center;
    position: relative;
  }
  .head-logo .head-logo-icon{
    font-size:28px;
    color: #80bd01;
  }
  .head-logo .head-logo-menu,
  .head-logo-back{
    position: absolute;
    top: 0;
    left: 20px;
    font-size: 20px;
    color: #fff;
  }
  .logo-img{
    width:120px;
    vertical-align: middle;
  }

</style>
